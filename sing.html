<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>TTS Playground</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
  </head>
  <body>
    <textarea maxlength="2000" rows="4" cols="50" id="input-text">aeiou</textarea>
    <button id="input-submit">Play</button>
    <audio style="display: none;" id="result-audio" src="/tts?text=aeiou">
      Your browser does not support the HTML5 audio element.
    </audio>
    <script type="text/javascript">
      var lastText = null;
      document.getElementById("input-submit").onclick = function () {
        var text = document.getElementById("input-text").value.replace(/(\r\n|\n|\r)/gm,"");
        var audio = document.getElementById("result-audio");
        if (text !== lastText) {
          audio.src = "/tts/" + text;
          lastText = text;
        }
		audio.play();
      };
    </script>
  </body>
</html>